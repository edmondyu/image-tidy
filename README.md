# ebook Publishing Toolbox

Professional tools for **ebook creation, conversion, and publishing** â€” all processing happens **entirely in your browser**. No server uploads, no data transmission, completely privacy-friendly and secure.

This collection focuses on ebook publishing workflows while including essential tools for images, PDFs, text processing, and royalty reporting.

---

## âœ¨ Tools Overview

### 1. Docs to EPUB
Convert HTML files exported from Google Docs or InDesign into professionally formatted EPUB ebooks.

**Features:**
- âœ… **Google Docs & InDesign support** â€” intelligently processes HTML exports from both platforms
- âœ… **Automatic chapter splitting** â€” split by H1, H2, H3 headings or keep as single file
- âœ… **Image processing** â€” handles and compresses images from HTML exports
- âœ… **Extended metadata editor** â€” title, author, subtitle, publisher, ISBN, description, publish date, tags, author description
- âœ… **CSV import** â€” bulk-load metadata with downloadable sample CSV
- âœ… **Clean XHTML output** â€” generates valid EPUB 3.0 format
- âœ… **Custom styling** â€” includes predefined CSS for professional appearance
- âœ… **Table of contents** â€” automatically generates navigation from headings
- âœ… **Cover image support** â€” optional cover image upload
- âœ… **Drag-and-drop UI** â€” easy file uploads with visual feedback

### 2. EPUB Image Compression
Compress and resize all images within an EPUB file while preserving filenames and cover image metadata. Reduces EPUB file size without changing structure.

**Features:**
- âœ… **Batch image processing** â€” compress all images in an EPUB at once
- âœ… **Configurable resize** â€” set max width and height limits
- âœ… **Quality control** â€” adjustable JPG compression quality
- âœ… **Format conversion** â€” option to convert all images to JPG
- âœ… **Skip cover option** â€” preserve original cover image quality
- âœ… **Intelligent cover detection** â€” supports EPUB 2/3 cover metadata standards
- âœ… **Preserves EPUB structure** â€” maintains all metadata and file organization
- âœ… **Drag-and-drop UI** â€” easy EPUB uploads
- âœ… **Progress tracking** â€” real-time compression progress

### 3. Image Compression
Resize and compress multiple images in the browser. Perfect for preparing images for web use or reducing file sizes.

**Features:**
- âœ… **Batch processing** â€” handle multiple images at once
- âœ… **Resize by max width & max height** (independent limits)
- âœ… **Configurable compression target** as a percentage of resized size
- âœ… **Always outputs JPG** (PNG â†’ JPG conversion included)
- âœ… **Transparency flattened to white** for PNGs / images with alpha
- âœ… **Natural sorting** of filenames (e.g. `image2.jpg` before `image10.jpg`)
- âœ… **Per-file download links**
- âœ… **"Download all as ZIP"** (via JSZip)
- âœ… **Drag-and-drop UI** â€” easy image uploads

### 4. Extract Text from HTML
Extract structured text from HTML/XHTML files while preserving inline formatting tags.

**Features:**
- âœ… **Preserve inline tags** â€” keep only the tags you choose (e.g., `<b>`, `<i>`, `<em>`)
- âœ… **Generate image filename list** â€” extract image references from HTML
- âœ… **Clean output** â€” removes unnecessary markup while preserving structure
- âœ… **Drag-and-drop UI** â€” easy HTML file uploads

### 5. Splitting Text File
Split text files with chapter markers into multiple segment files.

**Features:**
- âœ… **Chapter markers** â€” recognizes `[chX]` and `[break]` markers
- âœ… **Multiple output files** â€” one file per chapter/segment
- âœ… **ZIP packaging** â€” downloads all segments as a single ZIP file
- âœ… **Drag-and-drop UI** â€” easy text file uploads

### 6. Text â†’ XHTML (with image db)
Convert text chapter files plus an image database CSV into EPUB-style XHTML files.

**Features:**
- âœ… **Image database support** â€” uses CSV to map images and layouts
- âœ… **Special formatting** â€” supports lyrics, image markers, and custom layouts
- âœ… **EPUB-ready output** â€” generates properly formatted XHTML for ebook creation
- âœ… **Batch processing** â€” convert multiple chapter files at once
- âœ… **Drag-and-drop UI** â€” easy file uploads

### 7. PDF to JPG
Convert PDF files to compressed JPG images. Supports multi-page export and automatic compression.

**Features:**
- âœ… **Multi-page export** â€” extract all pages or just the first page
- âœ… **Automatic compression** â€” outputs images <1.44M pixels, <300KB
- âœ… **Batch processing** â€” convert multiple PDFs at once
- âœ… **Download all as ZIP** â€” convenient bulk download
- âœ… **Drag-and-drop UI** â€” easy PDF uploads

### 8. Royalty Reporting (Multi-platform)
Consolidate royalty reports from multiple platforms into unified summaries.

**Features:**
- âœ… **Multi-platform support** â€” works with CSV and XLSX reports
- âœ… **Per-publisher summaries** â€” generates separate CSV files for each publisher
- âœ… **Sales counting** â€” applies platform-specific rules to count sold copies
- âœ… **ZIP download** â€” packages all summary reports together
- âœ… **Drag-and-drop UI** â€” easy report uploads

### 9. Extract Text from PDF
Extract text content from text-based PDFs (no OCR).

**Features:**
- âœ… **Simple text extraction** â€” outputs plain `.txt` file
- âœ… **Browser-based** â€” no server processing required
- âœ… **Fast processing** â€” quick extraction for text-based PDFs
- âœ… **Drag-and-drop UI** â€” easy PDF uploads

### 10. Split Double-Span PDF
Split 2-page spreads (book scans) into individual single pages.

**Features:**
- âœ… **Automatic splitting** â€” converts left+right spreads to separate pages
- âœ… **Local processing** â€” all done in your browser
- âœ… **Perfect for book scans** â€” ideal for digitized books with facing pages
- âœ… **Drag-and-drop UI** â€” easy PDF uploads

### 11. Extract Ebook Metadata
Extract metadata from EPUB and PDF files and export to CSV format.

**Features:**
- âœ… **Support for EPUB and PDF** formats
- âœ… **Extract key metadata** â€” title, author, publisher, ISBN, language, publication date
- âœ… **Additional fields** â€” tags, comments, series information
- âœ… **CSV export** â€” download all metadata in a structured format
- âœ… **Batch processing** â€” analyze multiple files at once
- âœ… **Drag-and-drop UI** â€” easy ebook uploads

---

## ðŸŽ¯ Key Benefits

- âœ… **Privacy-first** â€” all processing happens in your browser, no data uploaded to servers
- âœ… **No installation** â€” works directly in modern web browsers
- âœ… **Offline capable** â€” once loaded, most tools work without internet
- âœ… **Cross-platform** â€” works on Windows, Mac, Linux, and mobile browsers
- âœ… **Dark mode UI** â€” professional dark theme (#131313 background) for comfortable extended use
- âœ… **Drag-and-drop interface** â€” intuitive file uploads across all tools
- âœ… **Open source** â€” inspect and modify the code as needed
- âœ… **Easy deployment** â€” static HTML files, deploy anywhere (Netlify, GitHub Pages, etc.)

---

## ðŸ–± Getting Started

1. **Open the toolbox**
   - Open [index.html](index.html) in a modern browser **or** deploy as a static site
   - The landing page displays all available tools

2. **Select a tool**
   - Click "Open tool" on any card to access that specific tool
   - Each tool has its own interface with relevant controls

3. **Process your files**
   - Upload files using the file picker (drag & drop supported in some tools)
   - Configure tool-specific parameters
   - Click the process/convert/extract button
   - Download results individually or as a ZIP file

---

## ðŸ“– Detailed Tool Documentation

### Docs to EPUB Converter

**How it works:**
- Parses HTML exports from Google Docs or InDesign
- Automatically detects source format and applies appropriate parsing logic
- Converts HTML content to EPUB 3.0-compliant XHTML
- Generates OPF manifest, NCX navigation, and table of contents
- Processes and compresses images from the HTML

**Features:**
- **Source format detection**: Automatically handles Google Docs (complex div structure) or InDesign (simple p/span structure)
- **Chapter splitting**: Split by H1, H2, or H3 headings, or keep as single file
- **Extended metadata**: Title, author, subtitle, publisher, ISBN, description, publish date, tags, author description
- **CSV import**: Bulk-load metadata with sample CSV download
- **Cover image**: Optional cover image upload
- **Image compression**: Automatically compresses and resizes images

**Usage:**
1. Select source format (Google Docs or InDesign)
2. Drag & drop or browse for HTML file
3. Upload images (if any)
4. Fill in metadata fields or import from CSV
5. Configure chapter splitting
6. Upload cover image (optional)
7. Click "Convert to EPUB"
8. Download the generated `.epub` file

### EPUB Image Compression Tool

**How it works:**
- Extracts EPUB file using JSZip
- Finds all image files (.jpg, .jpeg, .png, .gif, .webp)
- Optionally identifies and skips cover image using EPUB metadata
- Compresses each image using canvas API
- Repackages as compressed EPUB with DEFLATE compression level 9

**Parameters:**
- **Max Width/Height (px)**: Resize images larger than these dimensions (100-4000px)
- **Quality (%)**: JPG compression quality (1-100%)
- **Enable resize**: Toggle to enable/disable image resizing
- **Convert to JPG**: Convert all images to JPG format
- **Skip cover image**: Preserve original cover image quality

**Cover Detection Methods:**
1. EPUB 3: Item with `properties="cover-image"`
2. EPUB 2: Meta tag with `name="cover"`
3. Guide reference: `type="cover"` with image extraction from referenced HTML

**Usage:**
1. Drag & drop or browse for EPUB file
2. Configure compression settings (max dimensions, quality)
3. Enable/disable resize and JPG conversion
4. Check "Skip cover image" to preserve original cover
5. Click "Compress EPUB Images"
6. Download `filename_compressed.epub`

### Image Compression Tool

**How it works:**
- Resizes images if `width > maxWidth` or `height > maxHeight`, scaling down proportionally
- Converts everything to **JPG** with initial quality `0.85`
- Iteratively compresses using `canvas.toBlob(...)`, starting at quality `0.8` and decreasing by `0.05`
- Stops when: compressed size â‰¤ `resized_size * (targetPercent / 100)` or quality â‰¤ `0.1`

**Parameters:**
- **Max width (px)**: Positive integer between 100 and 10000
- **Max height (px)**: Positive integer between 100 and 10000
- **Target size (% of resized)**: Integer between 1 and 100 (e.g., 50 = 50% of resized file size)

**Usage:**
1. Drag & drop or select `.png`, `.jpg`, or `.jpeg` files
2. Adjust max width, height, and target compression percentage
3. Click "Process Images"
4. Download individually or as a ZIP

### PDF to JPG Tool

**How it works:**
- Renders PDF pages to canvas using PDF.js
- Converts each page to JPG with automatic compression
- Targets <1.44M pixels and <300KB file size per image

**Parameters:**
- Export mode: First page only or all pages
- Automatic quality adjustment for optimal file size

**Usage:**
1. Drag & drop or select one or more PDF files
2. Choose export mode (first page or all pages)
3. Click "Convert to JPG"
4. Download all images as a ZIP

### Ebook Metadata Extractor

**How it works:**
- For EPUB: Parses OPF metadata files inside the ZIP archive
- For PDF: Extracts metadata from PDF info dictionary
- Collects title, author, publisher, ISBN, language, date, tags, comments, series

**Usage:**
1. Drag & drop or select EPUB and/or PDF files
2. Click "Extract Metadata"
3. Review extracted metadata in the table
4. Download all metadata as a CSV file

---

## ðŸ— Tech Stack

### Core Technologies
- **HTML + Vanilla JavaScript** â€” no frameworks, pure web standards
- **Canvas API** â€” for image manipulation and rendering
- **File API** â€” for client-side file handling

### Key Libraries (loaded via CDN)
- **JSZip** â€” ZIP file creation in the browser
- **PDF.js** (Mozilla) â€” PDF rendering and text extraction
- **JSZip-utils** â€” helper utilities for ZIP operations
- **XLSX** (SheetJS) â€” Excel file parsing for royalty reports

### Architecture
- No build tools required
- No server-side processing
- No external API calls (except CDN libraries)
- Pure static HTML files that work offline

---

## ðŸš€ Deployment

Because these are static HTML files, you can deploy them almost anywhere:

### Netlify

1. Push this repo to GitHub, GitLab, or Bitbucket
2. In Netlify, choose **"New site from Git"**
3. Select the repo
4. Build command: *(leave blank)*
   Publish directory: `.`
5. Deploy and use the generated `*.netlify.app` URL

### GitHub Pages

1. Commit all files to your repo
2. Go to **Settings â†’ Pages**
3. Set:
   - Source: `Deploy from a branch`
   - Branch: `main` (or your default) / root (`/`)
4. Save and open the provided URL when GitHub Pages finishes building

### Other Options

- **Vercel**: Import the repo and deploy (zero config needed)
- **Cloudflare Pages**: Connect your repo and deploy
- **Local use**: Simply open [index.html](index.html) in any modern browser
- **Self-hosted**: Copy all files to any web server

---

## âš ï¸ Notes & Limitations

- **Client-side processing**: Performance depends on the user's browser and machine capabilities
- **Memory usage**: Very large files or huge batches may consume significant memory
- **Browser compatibility**: Requires a modern browser (Chrome, Firefox, Edge, Safari recommended)
- **EPUB tools**:
  - Requires valid EPUB structure with OPF metadata files
  - EPUB Image Compression processes all images unless "Skip cover" is checked
  - Cover image detection supports EPUB 2 and EPUB 3 standards
  - Docs to EPUB supports Google Docs and InDesign HTML exports
- **PDF limitations**:
  - Text extraction only works on text-based PDFs (no OCR for scanned documents)
  - Very large PDFs may be slow to process
- **File size**: Processing hundreds of large files simultaneously may cause performance issues
- **Privacy**: All processing is local, but files remain in browser memory during processing

---

## ðŸ“ Development

### Project Structure

```
.
â”œâ”€â”€ index.html                    # Landing page with tool cards
â”œâ”€â”€ gdocs-to-epub.html           # Docs to EPUB converter (Google Docs & InDesign)
â”œâ”€â”€ epub-image-compress.html     # EPUB Image Compression tool
â”œâ”€â”€ image-compression.html        # Image resizer/compressor tool
â”œâ”€â”€ html-extractor.html          # HTML text extractor
â”œâ”€â”€ text-splitter.html           # Text file chapter splitter
â”œâ”€â”€ xhtml-converter.html         # Text to XHTML converter
â”œâ”€â”€ pdf-to-jpg.html              # PDF to JPG converter
â”œâ”€â”€ royalty-reporting.html       # Royalty report consolidator
â”œâ”€â”€ pdf-extractor.html           # PDF text extractor
â”œâ”€â”€ pdf-double-span-splitter.html # PDF page splitter
â”œâ”€â”€ ebook-metadata.html          # Ebook metadata extractor
â””â”€â”€ README.md                    # This file
```

### Customizing Tools

Each tool is self-contained in a single HTML file with embedded CSS and JavaScript. To modify a tool:

1. Open the relevant `.html` file
2. The `<script>` block at the bottom contains all the logic
3. Styling is in the `<style>` block in the `<head>` (dark mode theme with `#131313` background, `#50e3c2` accent)
4. Key functions vary by tool:
   - **Docs to EPUB**: `generateEpub()`, `extractContentGoogleDocs()`, `extractContentInDesign()`
   - **EPUB Image Compression**: `compressImage()`, `findCoverImage()`
   - **Image Compression**: `resizeImageBrowser()`, `compressImageFromCanvas()`
   - **PDF to JPG**: PDF.js rendering, canvas conversion
   - **Ebook Metadata**: EPUB/PDF parsing, metadata extraction

### Adding New Tools

1. Create a new `.html` file following the existing pattern
2. Add a card entry in [index.html](index.html) linking to your tool
3. Use the established styling patterns for consistency
4. Keep all dependencies loaded via CDN for simplicity

---

## ðŸ’¡ Use Cases

### Ebook Publishing & Production
- Convert Google Docs or InDesign manuscripts to professional EPUBs
- Compress and optimize images in existing EPUBs to reduce file size
- Extract and organize ebook metadata for cataloging and inventory
- Split long manuscripts into chapter files for processing
- Convert text manuscripts to EPUB-ready XHTML with image database

### Content Preparation & Optimization
- Prepare images for ebook publishing with automatic compression
- Reduce EPUB file sizes while preserving cover image quality
- Convert PDFs to images for marketing and social media
- Process book scans by splitting double-page spreads

### Business & Administration
- Consolidate royalty reports from multiple platforms
- Generate publisher summaries from sales data
- Extract text from PDFs for content reuse and analysis
- Extract and clean text from HTML for editing

### Privacy-Conscious Workflows
- Process sensitive manuscripts without uploading to external servers
- Handle confidential PDFs and ebooks locally in browser
- Batch process files without leaving a trace on external systems
- Compress ebook images without cloud services

---

## ðŸ”’ Security & Privacy

- **No data transmission**: All files stay on your device
- **No tracking**: No analytics, cookies, or external tracking
- **Open source**: Full code transparency for security audits
- **Local processing**: Files are processed in browser memory only
- **No storage**: Files are not saved anywhere except your downloads folder

---

## ðŸ†˜ Support & Contributing

### Reporting Issues
If you encounter bugs or have feature requests, please open an issue on the project repository.

### Contributing
Contributions are welcome! Whether it's:
- Bug fixes
- New tools
- UI improvements
- Documentation updates
- Performance optimizations

Feel free to fork the project and submit a pull request.

---

## ðŸ“œ License

You can add whatever license you prefer here (e.g. MIT, Apache-2.0, etc.).
